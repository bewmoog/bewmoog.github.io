<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | Current Glass</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
       (function(){
          emailjs.init({
            publicKey: "AFNHcYovgI2EBnYv0",
          });
       })();
    </script>

    <!-- Custom Config & Styles -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            navy: '#1e293b',
                            blue: '#0284c7', // Primary Blue
                            light: '#f8fafc',
                            accent: '#0ea5e9',
                        }
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                        serif: ['Cormorant Garamond', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #ffffff;
            color: #1e293b;
        }

        .nav-scrolled {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            will-change: opacity, visibility;
        }
        
        .fade-in-section.is-visible {
            opacity: 1;
            transform: none;
        }
    </style>
</head>
<body class="antialiased overflow-x-hidden">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 py-6 bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
            <!-- Brand / Logo -->
            <a href="index.html" class="flex items-center gap-2 group">
                <img src="logo.png" alt="Logo" onerror="this.style.display='none'" class="h-10 w-auto">
                <span class="font-bold text-2xl tracking-tight text-brand-navy group-hover:text-brand-blue transition-colors">Current<span class="font-sans font-medium text-brand-blue">Glass</span></span>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-8 text-sm font-semibold tracking-wider text-slate-600">
                <a href="index.html" class="hover:text-brand-blue transition-colors">HOME</a>
                <a href="process.html" class="hover:text-brand-blue transition-colors">THE PROCESS</a>
                <a href="contact.html" class="px-6 py-2 bg-brand-blue text-white font-bold rounded-lg shadow-md hover:bg-brand-navy transition-all">GET A QUOTE</a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden text-brand-navy">
                <i data-lucide="menu" class="h-8 w-8"></i>
            </button>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="fixed inset-0 bg-white z-40 transform translate-x-full transition-transform duration-300 flex flex-col items-center justify-center gap-8 md:hidden">
            <button id="close-menu" class="absolute top-8 right-8 text-brand-navy"><i data-lucide="x" class="h-8 w-8"></i></button>
            <a href="index.html" class="hover:text-brand-blue transition-colors mobile-link text-xl font-bold">Home</a>
            <a href="process.html" class="hover:text-brand-blue transition-colors mobile-link text-xl font-bold">Our Process</a>
            <a href="contact.html" class="px-8 py-3 bg-brand-blue text-white font-bold rounded-lg mobile-link">Get Started</a>
        </div>
    </nav>

    <!-- Header / Title -->
    <section class="relative bg-slate-50 pt-48 pb-32 overflow-hidden">
        
        <div class="max-w-4xl mx-auto px-6 text-center relative z-10">
            <h1 class="font-serif text-5xl md:text-6xl font-black mb-6 text-brand-navy">Get in Touch</h1>
            <p class="text-lg md:text-xl max-w-2xl mx-auto text-brand-navy">Start your glass replacement project today. Fill out the form below or give us a call for a free estimate.</p>
        </div>
        <div class="pt-8"></div>
        <div class="max-w-5xl mx-auto px-6">
            <div class="bg-white rounded-2xl p-8 md:p-16 shadow-xl border border-slate-100 fade-in-section">
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-16">
                    <!-- Contact Info -->
                    <div class="lg:col-span-1 space-y-8">
                        <div>
                            <h3 class="font-bold text-brand-navy text-xl mb-4">Contact Information</h3>
                            <p class="text-slate-600 font-medium mb-6">We serve Central Utah and surrounding areas. Reach out anytime.</p>
                            
                            <div class="space-y-4">
                                <!-- Phone -->
                                <div class="flex items-center gap-4 group cursor-pointer p-3 -ml-3 rounded-xl hover:bg-slate-50 transition-all" onclick="copyText('(385) 287-5896', 'Phone number')" title="Click to copy">
                                    <div class="h-10 w-10 rounded-full bg-brand-light flex items-center justify-center text-brand-blue group-hover:bg-brand-blue group-hover:text-white transition-all shrink-0">
                                        <i data-lucide="phone" class="h-5 w-5"></i>
                                    </div>
                                    <div>
                                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wide">Phone</p>
                                        <div class="flex items-center gap-2">
                                            <p class="font-bold text-brand-blue group-hover:text-brand-accent transition-colors">(385) 287-5896</p>
                                            <i data-lucide="copy" class="h-3 w-3 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                        </div>
                                    </div>
                                </div>

                                <!-- Email -->
                                <div class="flex items-center gap-4 group cursor-pointer p-3 -ml-3 rounded-xl hover:bg-slate-50 transition-all" onclick="copyText('aeyden@current-glass.com', 'Email address')" title="Click to copy">
                                    <div class="h-10 w-10 rounded-full bg-brand-light flex items-center justify-center text-brand-blue group-hover:bg-brand-blue group-hover:text-white transition-all shrink-0">
                                        <i data-lucide="mail" class="h-5 w-5"></i>
                                    </div>
                                    <div>
                                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wide">Email</p>
                                        <div class="flex items-center gap-2">
                                            <p class="font-bold text-brand-blue group-hover:text-brand-accent transition-colors">aeyden@current-glass.com</p>
                                            <i data-lucide="copy" class="h-3 w-3 text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="pt-8 border-t border-slate-100">
                            <h3 class="font-bold text-brand-navy text-xl mb-4">Hours</h3>
                            <ul class="space-y-2 text-slate-600 font-medium text-sm">
                                <li class="flex justify-between"><span>Mon - Fri</span> <span class="font-bold text-brand-navy">8:00 AM - 6:00 PM</span></li>
                                <li class="flex justify-between"><span>Saturday</span> <span class="font-bold text-brand-navy">By Appointment</span></li>
                                <li class="flex justify-between"><span>Sunday</span> <span class="font-bold text-brand-navy">Closed</span></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Form -->
                    <div class="lg:col-span-2">
                        <form id="contact-form" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-brand-navy uppercase tracking-wide">First Name</label>
                                    <input type="text" name="first_name" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-4 text-brand-navy focus:outline-none focus:border-brand-blue transition-all font-medium" placeholder="John" required>
                                </div>
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-brand-navy uppercase tracking-wide">Last Name</label>
                                    <input type="text" name="last_name" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-4 text-brand-navy focus:outline-none focus:border-brand-blue transition-all font-medium" placeholder="Doe" required>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-brand-navy uppercase tracking-wide">Email Address</label>
                                    <input type="email" name="user_email" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-4 text-brand-navy focus:outline-none focus:border-brand-blue transition-all font-medium" placeholder="john@example.com" required>
                                </div>
                                <div class="space-y-2">
                                    <label class="text-sm font-bold text-brand-navy uppercase tracking-wide">Phone Number</label>
                                    <input type="tel" name="phone_number" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-4 text-brand-navy focus:outline-none focus:border-brand-blue transition-all font-medium" placeholder="(555) 000-0000" required>
                                </div>
                            </div>

                            <!-- Custom Select Dropdown -->
                            <div class="space-y-2 relative" id="service-dropdown-container">
                                <label class="text-sm font-bold text-brand-navy uppercase tracking-wide">Service Required</label>
                                
                                <!-- Hidden Input that EmailJS reads -->
                                <input type="hidden" name="service_type" id="service-type-input" value="Residential Glass Replacement">
                                
                                <!-- Custom Trigger Button -->
                                <div id="dropdown-trigger" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-4 text-brand-navy cursor-pointer flex justify-between items-center hover:border-brand-blue transition-all font-medium group select-none">
                                    <span id="selected-service-text">Failed Glass</span>
                                    <i data-lucide="chevron-down" class="h-5 w-5 text-slate-400 group-hover:text-brand-blue transition-all duration-300"></i>
                                </div>

                                <!-- Dropdown Menu -->
                                <div id="dropdown-options" class="hidden absolute top-full left-0 w-full mt-2 bg-white border border-slate-100 rounded-xl shadow-xl z-30 overflow-hidden transform transition-all duration-200 origin-top opacity-0 scale-95 pointer-events-none">
                                    <div class="p-1 max-h-60 overflow-y-auto">
                                        <div class="px-4 py-3 hover:bg-slate-50 hover:text-brand-blue cursor-pointer rounded-lg transition-colors text-slate-600 font-medium" data-value="Discolored/Foggy Glass">Discolored/Foggy Glass</div>
                                        <div class="px-4 py-3 hover:bg-slate-50 hover:text-brand-blue cursor-pointer rounded-lg transition-colors text-slate-600 font-medium" data-value="Broken Glass">Broken Glass</div>
                                        <div class="px-4 py-3 hover:bg-slate-50 hover:text-brand-blue cursor-pointer rounded-lg transition-colors text-slate-600 font-medium" data-value="Other / General Inquiry">Other / General Inquiry</div>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-2">
                                <label class="text-sm font-bold text-brand-navy uppercase tracking-wide">How can we help?</label>
                                <textarea name="message" rows="4" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-4 text-brand-navy focus:outline-none focus:border-brand-blue transition-all font-medium" placeholder="Describe your window issue..."></textarea>
                            </div>

                            <button type="submit" class="w-full py-5 bg-brand-blue text-white font-bold rounded-lg shadow-lg hover:bg-brand-navy transition-all transform hover:-translate-y-1">
                                Send
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-100 py-16">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12">
            <div class="col-span-1 md:col-span-2">
                <div class="flex items-center gap-2 mb-6">
                    <img src="logo.png" alt="Logo" onerror="this.style.display='none'" class="h-10 w-auto">
                    <span class="font-bold text-xl tracking-tight text-brand-navy transition-colors">Current<span class="font-sans font-medium text-brand-blue">Glass</span></span>
                </div>
                <p class="text-slate-500 font-medium max-w-sm mb-6 leading-relaxed">
                    Premium glass replacement specializing in IGU reglazing. Better for your home, better for your wallet.
                </p>
            </div>
            
            <div>
                <h4 class="text-brand-navy font-bold mb-6 uppercase tracking-wider text-xs">Quick Links</h4>
                <ul class="space-y-4 text-slate-500 font-semibold text-sm">
                    <li><a href="index.html" class="hover:text-brand-blue transition-colors">Home</a></li>
                    <li><a href="process.html" class="hover:text-brand-blue transition-colors">Our Process</a></li>
                    <li><a href="contact.html" class="text-brand-blue transition-colors">Contact Us</a></li>
                </ul>
            </div>

            <div>
                <h4 class="text-brand-navy font-bold mb-6 uppercase tracking-wider text-xs">Direct Contact</h4>
                <div class="cursor-pointer" onclick="copyText('aeyden@current-glass.com', 'Email address')" title="Click to copy">
                <p class="text-slate-500 font-semibold text-sm mb-2">aeyden@current-glass.com</p>
                </div>
                <div class="cursor-pointer" onclick="copyText('(385) 287-5896', '(385) 287-5896')" title="Click to copy">
                <p class="text-brand-blue font-bold text-lg mb-6">(385) 287-5896</p>
                </div>
                <p class="text-slate-400 text-xs italic">Serving Central Utah</p>
            </div>
        </div>
        <div class="max-w-7xl mx-auto px-6 mt-16 pt-8 border-t border-slate-100 text-center text-slate-400 font-medium text-xs">
            &copy; 2026 Current Glass.
        </div>
    </footer>

    <!-- Copy Notification Toast -->
    <div id="copy-notification" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-brand-navy text-white px-6 py-3 rounded-full shadow-2xl translate-y-24 opacity-0 transition-all duration-300 z-50 flex items-center gap-3 pointer-events-none">
        <i data-lucide="check-circle-2" class="h-5 w-5 text-green-400"></i>
        <span id="notification-text" class="font-medium text-sm">Copied to clipboard</span>
    </div>

    <!-- Scripts -->
    <script>
        lucide.createIcons();

        // Navbar Scroll
        const nav = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                nav.classList.add('nav-scrolled', 'py-4');
                nav.classList.remove('py-6');
            } else {
                nav.classList.remove('nav-scrolled', 'py-4');
                nav.classList.add('py-6');
            }
        });

        // Scroll Observer
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-in-section').forEach(el => observer.observe(el));

        // Mobile Menu
        const mobileBtn = document.getElementById('mobile-menu-btn');
        const closeBtn = document.getElementById('close-menu');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        function toggleMenu() {
            mobileMenu.classList.toggle('translate-x-full');
        }

        mobileBtn.addEventListener('click', toggleMenu);
        closeBtn.addEventListener('click', toggleMenu);
        mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));

        // --- CUSTOM DROPDOWN LOGIC ---
        const dropdownTrigger = document.getElementById('dropdown-trigger');
        const dropdownOptions = document.getElementById('dropdown-options');
        const hiddenInput = document.getElementById('service-type-input');
        const selectedText = document.getElementById('selected-service-text');
        const chevron = dropdownTrigger.querySelector('i');
        const optionsList = dropdownOptions.querySelectorAll('div[data-value]');
        
        let dropdownTimeout;
        let openTimeout;

        function toggleDropdown() {
            // Check if it is hidden OR currently fading out (opacity-0)
            const isClosedOrClosing = dropdownOptions.classList.contains('hidden') || dropdownOptions.classList.contains('opacity-0');
            
            if (isClosedOrClosing) {
                openDropdown();
            } else {
                closeDropdown();
            }
        }

        function openDropdown() {
            // Clear any pending close actions
            if (dropdownTimeout) clearTimeout(dropdownTimeout);
            
            // Make visible immediately for layout
            dropdownOptions.classList.remove('hidden');
            dropdownOptions.classList.remove('pointer-events-none');
            
            // Trigger transition with slight delay to ensure browser paints 'display: block' first
            // Clear existing open timeout to avoid conflicts
            if (openTimeout) clearTimeout(openTimeout);
            
            openTimeout = setTimeout(() => {
                dropdownOptions.classList.remove('opacity-0', 'scale-95');
                dropdownOptions.classList.add('opacity-100', 'scale-100');
                chevron.classList.add('rotate-180');
            }, 10);
        }

        function closeDropdown() {
            // Clear any pending open actions
            if (openTimeout) clearTimeout(openTimeout);

            dropdownOptions.classList.add('pointer-events-none');
            dropdownOptions.classList.remove('opacity-100', 'scale-100');
            dropdownOptions.classList.add('opacity-0', 'scale-95');
            chevron.classList.remove('rotate-180');
            
            // Clear existing close timeout
            if (dropdownTimeout) clearTimeout(dropdownTimeout);

            // Wait for transition to finish before hiding
            dropdownTimeout = setTimeout(() => {
                dropdownOptions.classList.add('hidden');
            }, 200);
        }

        dropdownTrigger.addEventListener('click', (e) => {
            e.stopPropagation();
            toggleDropdown();
        });

        optionsList.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const value = option.getAttribute('data-value');
                hiddenInput.value = value;
                selectedText.textContent = value;
                closeDropdown();
            });
        });

        document.addEventListener('click', (e) => {
            if (!dropdownTrigger.contains(e.target) && !dropdownOptions.contains(e.target)) {
                // If clicked outside, and it's currently open (not hidden), close it.
                if (!dropdownOptions.classList.contains('hidden')) {
                    closeDropdown();
                }
            }
        });

        // --- COPY TO CLIPBOARD ---
        let timeoutId;
        function copyText(text, label) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification(`${label} copied!`);
            }).catch(err => {
                console.error('Failed to copy: ', err);
                // Fallback approach
                const textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                   document.execCommand("copy");
                   showNotification(`${label} copied!`);
                } catch (e) {
                   console.error("Fallback copy failed", e);
                }
                document.body.removeChild(textArea);
            });
        }

        function showNotification(message) {
            const notification = document.getElementById('copy-notification');
            const textEl = document.getElementById('notification-text');
            
            textEl.textContent = message;
            notification.classList.remove('translate-y-24', 'opacity-0');
            
            if (timeoutId) clearTimeout(timeoutId);
            
            timeoutId = setTimeout(() => {
                notification.classList.add('translate-y-24', 'opacity-0');
            }, 3000);
        }

        // --- EMAILJS HANDLER ---
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // UI Feedback
            const btn = this.querySelector('button[type="submit"]');
            const originalText = btn.innerHTML;
            btn.innerHTML = 'Sending...';
            btn.disabled = true;

            // TODO: REPLACE THESE WITH YOUR ACTUAL SERVICE AND TEMPLATE IDs
            const serviceID = 'service_8402wnk'; 
            const templateID = 'template_xt3yocc';

            emailjs.sendForm(serviceID, templateID, this)
                .then(() => {
                    alert('Request sent successfully! Our team will contact you shortly.');
                    this.reset();
                    // Reset custom dropdown
                    hiddenInput.value = 'Residential Glass Replacement';
                    selectedText.textContent = 'Residential Glass Replacement';
                    
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                }, (err) => {
                    alert('Failed to send request. Please try again or call us directly at (385) 287-5896.');
                    console.error('EmailJS Error:', JSON.stringify(err));
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                });
        });
    </script>
</body>

</html>




